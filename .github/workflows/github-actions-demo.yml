name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€

# êµ¬ë…í•  ì´ë²¤íŠ¸
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  Explore-GitHub-Actions:
    strategy:
      matrix:
        node: [18, 20]
    # Ubuntu, Windows, MacOSë¥¼ ì§€ì›í•œë‹¤.
    runs-on: ubuntu-latest

    # uses ê°œë…ì€ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‘ì„±í•œ ë‚´ìš©ì„ ì‹¤í–‰í•˜ëŠ” ê°œë…ì´ë‹¤.
    # actions/checkout: GitHubì˜ ë§ˆì§€ë§‰ ì»¤ë°‹ìœ¼ë¡œ Checkout í•œë‹¤.
    # actions/setup-node: Node.jsë¥¼ ì„¤ì¹˜í•œë‹¤.
    # run ê°œë…ì€ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. ì…¸ ìŠ¤í¬ë¦½íŠ¸ì™€ ë™ì¼í•˜ë‹¤.
    steps:
      - name: â¬‡ï¸ Checkout repo
        uses: actions/checkout@v4

      - name: â” Setup node
        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node }}

      - name: ğŸ“¥ Download deps
        uses: bahmutov/npm-install@v1
        with:
          useLockFile: false

      # TODO: Can be removed if https://github.com/kentcdodds/kcd-scripts/pull/146 is released
      - name: Verify format (`npm run format` committed?)
        run: npm run format -- --check --no-write

      - name: â–¶ï¸ Run validate script
        run: npm run validate
